<?php
include('login.php');
session_start();
if (isset($_POST['submit']){
header("location: login.php");
}
if(isset($_SESSION['login_user'])){
header("location: SuperRecruiter.php");
}
?>
<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">
            function checkForm(){ 
                if(document.getElementById("first_name").value == "")
                   {
                        document.getElementById("first_name_message").innerHTML = "Please enter your First Name.";
                        return false;
                    }
                if(document.getElementById("last_name").value == "")
                   {
                        document.getElementById("last_name_message").innerHTML = "Please enter your Last Name";
                        return false;
                    }
                if(document.getElementById("email").value == "")
                   {
                        document.getElementById("email_message").innerHTML = "Please enter your Email";
                        return false;
                    }
                
                if(document.getElementById("password").value == "")
                   {
                        document.getElementById("password_message").innerHTML = "Please enter a Password";
                        return false;
                    }
                if(checkPassMatch() == false){
                    return false;
                }
            
            }
            function checkPassMatch(){
             if(document.getElementById("password").value != document.getElementById("password_confirm").value)
                   {
                        document.getElementById("match_message").innerHTML = "passwords do not match!";
                        return false;
                    }
                else
                    return true;
            }
            function clear_message(){           
                document.getElementById("first_name_message").innerHTML = "";
				document.getElementById("last_name_message").innerHTML = "";
				document.getElementById("phone_message").innerHTML = "";
				document.getElementById("email_message").innerHTML = "";
				document.getElementById("password_message").innerHTML = "";
				document.getElementById("match_message").innerHTML = "";
            }
			function check_user_type(){
				if(document.getElementById("user_type").value == "Student")
					document.getElementById("major_selector").style.display = '';
				else
					document.getElementById("major_selector").style.display = 'none';

			}
        </script>
    </head>
    <body>
        <form id="register" action="create_new_user.php" method="post" onsubmit="return checkForm()">
            <fieldset>
            <legend>Create your SuperRecruiter account</legend>
            <input type="hidden" name="submitted" id="submitted" value="1"/>
                *required
            <ul>
                <li>First Name*:
                    <br><input type="text" id="first_name" name="first_name" onchange="clear_message()" placeholder="Enter a valid First Name " />
                    <div id="first_name_message" style="color:Red"></div></li>
                <li>Last Name*:
                    <br><input type="text" id="last_name" name="last_name" onchange="clear_message()" placeholder="Enter a valid Last Name" />
                    <div id="last_name_message" style="color:Red"></div></li>
                <li>Contact Number:
                    <br><input type="tel"  pattern="[0-9]*" id="phone" name="phone" onchange="clear_message()" placeholder="Enter a valid Phone Number"/>
                    <div id="phone_message" style="color:Red"></div></li>
				<li>Select type of user*:
                    <br><select id="user_type" name="user_type" onchange=check_user_type() required>
						<option></option>
						<option value="Student">Student</option>
						<option value="Recruiter">Recruiter</option>
					</select></li>
				<li style="display:none" id="major_selector">Select a Major*:
					<br><select id="major" name="major">
						<option></option>
						<option value="CS">Computer Science</option>
						<option value="CompE">Computer Engineering</option>
						<option value="EE">Electrical Engineering</option>
						<option value="ME">Mechanical Engineering</option>
						<option value="CE">Civil Engineering</option>
						<option value="CIT">CIT</option>
						<option value="Physics">Physics</option>
					</select>
				</li>
                <li>Email(this will be your username)*:
                    <br><input type="email" id="email" name="email" onchange="clear_message()" placeholder="Enter a valid Email" />
                    <div id="email_message" style="color:Red"></div></li>
                <li>Password*:
                    <br><input type="password" id="password" name="password" onchange="clear_message()" placeholder="Enter a valid Password" />
                    <div id="password_message" style="color:Red"></div></li>
                <li>Confirm Password*:
                    <br><input type="password" id="password_confirm" name="password_confirm" onchange="clear_message(); checkPassMatch();" placeholder="Enter your Password again" />
                    <div id="match_message" style="color:Red"></div></li>
                <li><input type="submit" value="Create User"/></li>
            </ul>
            </fieldset>
        </form>
    </body>
</html>